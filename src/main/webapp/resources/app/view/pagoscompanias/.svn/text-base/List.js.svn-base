Ext.define('app.view.pagoscompanias.List', {
	extend: 'app.view.BaseGrid',
	alias: 'widget.pagoscompaniasList',
	requires:[
			 'app.view.companias.ComboBox'
    ],
	title: 'Pagos a Companias',
	store: 'PagosCompanias',	
	initComponent: function() {
		var _this=this;		
		this.columns = [
	        {
				header: 'fecha'
				,dataIndex: 'fecha'
//				,flex: 1
				,sortType : Ext.data.SortTypes.asDate
				,field: { xtype: 'datefield' }
				
			},
//	        {
//				header: 'tipoPago'
//				,dataIndex: 'tipoPago'
//				,flex: 1
//				,field: { xtype: 'textfield' }
//				
//			},
	        {
				header: 'concepto'
				,dataIndex: 'concepto'
				,flex: 1
				,field: { xtype: 'textfield' }
				
			},
			{
				header: 'companias'
				,id: 'companias.id'
//				,flex: 1
				,editor: { xtype: 'companiasCombo' }	
				,field: {
		                 xtype: "companiasCombo"
		                 ,typeAhead: true
		                 ,triggerAction: 'all'
		                 ,valueField: 'companias.id'
		                 ,displayField: 'companias.nombre'
//		                 typeAhead: true,
//		                 triggerAction: 'all',
//		                 store: listtypesStore,
//		                 displayField: 'listtype',
//		                 valueField: 'listtype'
//		                 valueField: 'listtype'
		         }
				,renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {				       
					return store.data.items[rowIndex].data.companias.nombre;
				}
			},
			{
				header: 'importe'
				,dataIndex: 'importe'
				,align:'right'
				,type: 'number' 
				,field: { xtype: 'textfield' }
			
			}		
			];
		this.dockedItems = [{
            xtype: 'toolbar',
            items: [{
            	text: 'Refresh',
	    	    iconCls:'x-tbar-loading',
	    	    scope: this,
	    	    handler: function(){
	    			this.store.load();	
	    		}
	        	
	        },{
	        	xtype:'companiasCombo'
	            ,name     : 'buscarCompania'
	            ,itemId     : 'buscarCompania'
	            ,width: 140
	            ,emptyText: 'Seleccione Compañia'
	        },
            '->',{
                text: 'Add',
                itemId:'add',
                iconCls: 'icon-add'

            }, 
             {
                itemId: 'delete',
                text: 'Delete',
                iconCls: 'icon-delete',
                disabled: true
            }
			]
        }]
		this.bbar=[{xtype: 'pagingtoolbar',
			pageSize: 10,
	        store: this.store}];
    	this.callParent(arguments);
	}
});

